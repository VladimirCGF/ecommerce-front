<form [formGroup]="clientForm" (ngSubmit)="onSubmit()">
  <h2>Cadastro de Cliente</h2>

  <div class="form-group">
    <label for="email">Email</label>
    <input formControlName="email" type="text" id="email" placeholder="Digite o email" (blur)="checkEmailAvailability()">
    <div
      *ngIf="clientForm.get('email')?.invalid && (clientForm.get('email')?.touched || clientForm.get('email')?.dirty)">
      <small *ngIf="clientForm.get('email')?.errors?.['required']">O email é obrigatório.</small>
      <small *ngIf="clientForm.get('email')?.errors?.['codeTaken']">Este email já existe.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input formControlName="password" type="password" id="password" placeholder="Digite o password">
    <div
      *ngIf="clientForm.get('password')?.invalid && (clientForm.get('password')?.touched || clientForm.get('password')?.dirty)">
      <small *ngIf="clientForm.get('password')?.errors?.['required']">A senha obrigatório.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="confirmPassword">Confirm Password</label>
    <input formControlName="confirmPassword" type="password" id="confirmPassword" placeholder="Confirme sua senha">
    <div
      *ngIf="clientForm.errors?.['passwordMismatch'] && (clientForm.get('confirmPassword')?.touched || clientForm.get('confirmPassword')?.dirty)">
      <small>As senhas não correspondem.</small>
    </div>
  </div>

  <input type="submit" [value]="buttonName" [disabled]="clientForm.invalid">
  <button [routerLink]="['']">Cancelar</button>
</form>

