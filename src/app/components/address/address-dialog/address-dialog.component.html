<form [formGroup]="addressForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="address">Endereço</label>
    <input formControlName="address" type="text" id="address" placeholder="Digite o endereço">
    <div
      *ngIf="addressForm.get('address')?.invalid && (addressForm.get('address')?.touched || addressForm.get('address')?.dirty)">
      <small *ngIf="addressForm.get('address')?.errors?.['required']">O endereço é obrigatório.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="idState">Estado</label>
    <select formControlName="idState" id="idState">
      <option value="">Selecione um estado</option>
      <option *ngFor="let state of states" [value]="state.id">{{ state.name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="idMunicipality">Município</label>
    <select formControlName="idMunicipality" id="idMunicipality">
      <option value="">Selecione o município</option>
      <option *ngFor="let municipality of municipalities" [value]="municipality.id">{{ municipality.name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="cep">CEP</label>
    <input formControlName="cep" type="text" id="cep" placeholder="Digite o CEP">
    <div
      *ngIf="addressForm.get('cep')?.invalid && (addressForm.get('cep')?.touched || addressForm.get('cep')?.dirty)">
      <small *ngIf="addressForm.get('cep')?.errors?.['required']">O CEP é obrigatório.</small>
    </div>
  </div>

  <mat-dialog-actions align="end">
    <button mat-flat-button color="primary" (click)="save()">Salvar</button>
  </mat-dialog-actions>
</form>
