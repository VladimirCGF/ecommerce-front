<form [formGroup]="addressForm" (ngSubmit)="onSubmit()">
  <h2>Cadastro de Endereço</h2>


  <div class="form-group">
    <label for="address">Endereço</label>
    <input formControlName="address" type="text" id="address" placeholder="Digite o endereço">
    <div
      *ngIf="addressForm.get('address')?.invalid && (addressForm.get('address')?.touched || addressForm.get('address')?.dirty)">
      <small *ngIf="addressForm.get('address')?.errors?.['required']">O endereço é obrigatório.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="idState">Estado</label>
    <select formControlName="idState" id="idState">
      <option value="">Selecione um estado</option>
      <option *ngFor="let state of states" [value]="state.id">{{ state.name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="idMunicipality">Município</label>
    <select formControlName="idMunicipality" id="idMunicipality">
      <option value="">Selecione o município</option>
      <option *ngFor="let municipality of municipalities" [value]="municipality.id">{{ municipality.name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="cep">CEP</label>
    <input formControlName="cep" type="text" id="cep" placeholder="Digite o CEP">
    <div
      *ngIf="addressForm.get('cep')?.invalid && (addressForm.get('cep')?.touched || addressForm.get('cep')?.dirty)">
      <small *ngIf="addressForm.get('cep')?.errors?.['required']">O CEP é obrigatório.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="idClient">ID Client</label>
    <input formControlName="idClient" type="number" id="idClient" placeholder="Digite o ID do Cliente">
    <div *ngIf="addressForm.get('idClient')?.invalid && (addressForm.get('idClient')?.touched || addressForm.get('idClient')?.dirty)">
      <small *ngIf="addressForm.get('idClient')?.errors?.['required']">O ID é obrigatório.</small>
    </div>
  </div>

  <input type="submit" [value]="buttonName" [disabled]="addressForm.invalid">
  <button [routerLink]="['/address']">Cancelar</button>
</form>
